{% load static %}
<!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="utf-8" />
        <link rel="apple-touch-icon" sizes="76x76" href="{% static 'assets/img//apple-icon.png' %}">
        <link rel="icon" type="image/png" href="{% static 'assets/img//favicon.png' %}">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <title>
            McBoutique
        </title>
        <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
        <!--     Fonts and icons     -->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
        <!-- CSS Files -->
        <link href="{% static 'assets/css/bootstrap.min.css' %}" rel="stylesheet" />
        <link href="{% static 'assets/css/paper-dashboard.css' %}" rel="stylesheet" />
        <!-- CSS Just for demo purpose, don't include it in your project -->
        <link href="{% static 'assets/demo/demo.css' %}" rel="stylesheet" />
    </head>

    <body class="login-page">
        <!-- Navbar -->
        <nav class="navbar navbar-expand-lg navbar-absolute fixed-top navbar-transparent">
            <div class="container">
                <div class="navbar-wrapper">
                    <div class="navbar-toggle">
                    <button type="button" class="navbar-toggler">
                        <span class="navbar-toggler-bar bar1"></span>
                        <span class="navbar-toggler-bar bar2"></span>
                        <span class="navbar-toggler-bar bar3"></span>
                    </button>
                    </div>
                    <a class="navbar-brand" href="javascript:;">McBoutique</a>
                </div>
            </div>
        </nav>
        <!-- End Navbar -->
        <div class="wrapper wrapper-full-page ">
            <div class="full-page section-image" filter-color="black" data-image="{% static 'assets/img/bg/bg.jpg' %}">
                <!--   you can change the color of the filter page using: data-color="blue | purple | green | orange | red | rose " -->
                <div class="content">
                    <div class="container" style="margin-top: 0 !important;">
                        <div class="col-lg-6 col-md-6 ml-auto mr-auto">
                            <form class="form" method="POST" action="{% url 'getProducts' %}">
                                {% csrf_token %}
                                <div class="card card-login">
                                    <div class="card-header ">
                                        <div class="card-header ">
                                            <h3 class="header text-center">Get Products</h3>
                                        </div>
                                    </div>
                                    <div class="card-body " style="padding: 15px 15px 0px 15px">
                                        {% if error %}
                                            <div class="alert alert-danger" role="alert" id="alert-success">{{ error }}</div>
                                        {% endif %}
                                        <div class="input-group">
                                            <select class="form-control" aria-label="Select Category" name="category" id="category">
                                                <option value=''>Select</option>
                                                <option value="static/urls/woman/clothes_urls.csv">Woman | Clothes</option>
                                                <option value="static/urls/woman/shoes_urls.csv">Woman | Shoes</option>
                                                <option value="static/urls/woman/accessories_urls.csv">Woman | Accessories &amp; Bags</option>
                                                <option value="static/urls/woman/undergarments_urls.csv">Woman | Underwear</option>
                                                <option value="static/urls/woman/luxury_urls.csv">Woman | Luxury &amp; Designer</option>
                                                <option value="static/urls/woman/cosmetic_urls.csv">Woman | Cosmetic</option>
                                                <option value="static/urls/woman/sport_urls.csv">Woman | Sports &amp; Outdoor</option>
                                                <option value="static/urls/boy/clothes_urls.csv">Boy | Clothes</option>
                                                <option value="static/urls/boy/shoes_urls.csv">Boy | Shoes</option>
                                                <option value="static/urls/boy/personalcare_urls.csv">Boy | Personal Care</option>
                                                <option value="static/urls/boy/watchaccessories_urls.csv">Boy | Watches &amp; Accessories</option>
                                                <option value="static/urls/boy/undergarments_urls.csv">Boy | Underwear</option>
                                                <option value="static/urls/boy/sport_urls.csv">Boy | Sports &amp; Outdoor</option>
                                                <option value="static/urls/boy/electronic_urls.csv">Boy | Electronic</option>
                                                <option value="static/urls/boy/luxury_urls.csv">Boy | Luxury &amp; Designer</option>
                                                <option value="static/urls/child/baby_urls.csv">Child | Baby</option>
                                                <option value="static/urls/child/girl_boy_urls.csv">Child | Girl Child & Boy</option>
                                                <option value="static/urls/child/baby_care_urls.csv">Child | Baby Care</option>
                                                <option value="static/urls/child/toy_urls.csv">Child | Toy</option>
                                                <option value="static/urls/child/transport_security_urls.csv">Child | Transport &amp; Security</option>
                                                <option value="static/urls/child/nutrition_breastfeeding_urls.csv">Child | Nutrition Breastfeeding</option>
                                                <option value="static/urls/home_living/table_kitchen_urls.csv">Home &amp; Living | Table &amp; Kitchen</option>
                                                <option value="static/urls/home_living/bath_urls.csv">Home &amp; Living | Bath</option>
                                                <option value="static/urls/home_living/home_textiles_urls.csv">Home &amp; Living | Home Textiles</option>
                                                <option value="static/urls/home_living/home_decoration_urls.csv">Home &amp; Living | Home Decoration</option>
                                                <option value="static/urls/home_living/lighting_urls.csv">Home &amp; Living | Lighting</option>
                                                <option value="static/urls/home_living/furniture_urls.csv">Home &amp; Living | Furniture</option>
                                                <option value="static/urls/home_living/household_appliances_urls.csv">Home &amp; Living | Household Appliances</option>
                                                <option value="static/urls/home_living/hobby_urls.csv">Home &amp; Living | Hobby</option>
                                                <option value="static/urls/home_living/stationary_urls.csv">Home &amp; Living | Stationery &amp; Office</option>
                                                <option value="static/urls/home_living/sport_urls.csv">Home &amp; Living | Sports &amp; Outdoor</option>
                                                <option value="static/urls/home_living/automobile_urls.csv">Home &amp; Living | Auto &amp; Motorcycle</option>
                                                <option value="static/urls/home_living/construction_urls.csv">Home &amp; Living | Construction Market</option>
                                                <option value="static/urls/supermarket/house_cleaning_urls.csv">Supermarket | House Cleaning</option>
                                                <option value="static/urls/supermarket/food_urls.csv">Supermarket | Food</option>
                                                <option value="static/urls/supermarket/personal_care_urls.csv">Supermarket | Personal Care</option>
                                                <option value="static/urls/supermarket/health_sport_urls.csv">Supermarket | Health &amp; Sports</option>
                                                <option value="static/urls/supermarket/pet_shop_urls.csv">Supermarket | Pet Shop</option>
                                                <option value="static/urls/supermarket/baby_care_urls.csv">Supermarket | Baby Care</option>
                                                <option value="static/urls/cosmetic/makeup_urls.csv">Cosmetic | Make-up</option>
                                                <option value="static/urls/cosmetic/perfume_urls.csv">Cosmetic | Perfume &amp; Deodorant</option>
                                                <option value="static/urls/cosmetic/skincare_urls.csv">Cosmetic | Skin Care</option>
                                                <option value="static/urls/cosmetic/haircare_urls.csv">Cosmetic | Hair Care</option>
                                                <option value="static/urls/cosmetic/hairremoval_urls.csv">Cosmetic | Hair Removal &amp; Shaving</option>
                                                <option value="static/urls/cosmetic/maintenance_urls.csv">Cosmetic | General Maintenance</option>
                                                <option value="static/urls/shoe_bag/women_shoes_urls.csv">Shoe Bag | Women Shoes</option>
                                                <option value="static/urls/shoe_bag/women_bags_urls.csv">Shoe Bag | Women Bags</option>
                                                <option value="static/urls/shoe_bag/men_shoes_urls.csv">Shoe Bag | Men Shoes</option>
                                                <option value="static/urls/shoe_bag/men_bags_urls.csv">Shoe Bag | Men Bags</option>
                                                <option value="static/urls/shoe_bag/children_shoes_urls.csv">Shoe Bag | Children Shoes</option>
                                                <option value="static/urls/shoe_bag/children_shoes_urls.csv">Shoe Bag | Children Bags</option>
                                                <option value="static/urls/shoe_bag/luxury_shoes_urls.csv">Shoe Bag | Luxury &amp; Designer</option>
                                                <option value="static/urls/watches_accessories/woman_urls.csv">Watches &amp; Accessories | Woman</option>
                                                <option value="static/urls/watches_accessories/jewelry_urls.csv">Watches &amp; Accessories | Jewelry &amp; Jewelry</option>
                                                <option value="static/urls/watches_accessories/electronic_urls.csv">Watches &amp; Accessories | Electronic Accessories</option>
                                                <option value="static/urls/watches_accessories/boy_urls.csv">Watches &amp; Accessories | Boy</option>
                                                <option value="static/urls/watches_accessories/kid_urls.csv">Watches &amp; Accessories | Kids Accessory</option>
                                                <option value="static/urls/electronic/smallhomeappliances_urls.csv">Electronic | Small Home Appliances</option>
                                                <option value="static/urls/electronic/wearable_urls.csv">Electronic | Wearable Technology</option>
                                                <option value="static/urls/electronic/telephone_urls.csv">Electronic | Telephone</option>
                                                <option value="static/urls/electronic/computer_urls.csv">Electronic | Computer &amp; Tablet</option>
                                                <option value="static/urls/electronic/tv_urls.csv">Electronic | TV &amp; Picture &amp; Sound</option>
                                                <option value="static/urls/electronic/personalcare_appliances_urls.csv">Electronic | Personal Care Appliances</option>
                                                <option value="static/urls/electronic/household_appliances_urls.csv">Electronic | Household Appliances</option>
                                                <option value="static/urls/electronic/electronic_accessories_urls.csv">Electronic | Electronic Accessories</option>
                                                <option value="static/urls/electronic/gamers_urls.csv">Electronic | Gamers Exclusive</option>
                                                <option value="static/urls/electronic/photo_urls.csv">Electronic | Photo &amp; Camera</option>
                                                <option value="static/urls/electronic/digital_urls.csv3">Electronic | Digital Code &amp; Products</option>
                                            </select>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="input-group">
                                                    <input type="number" placeholder="Starts From" class="form-control" name="start" id="start" min=1 max=1 required>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="input-group">
                                                    <input type="number" placeholder="Ends At" class="form-control" name="end" id="end" min=1 max=1 required>
                                                </div>
                                            </div>
                                        </div>
                                        {% if file %}
                                            <table>
                                                <tr>
                                                    <td class="alert alert-success"><a href="{{ file }}" style="color: white">Download CSV File</a></td>
                                                </tr>
                                            </table>
                                        {% endif %}
                                    </div>
                                    <div class="card-footer ">
                                        <button type="submit" class="btn btn-warning btn-round btn-block mb-3">Submit</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <footer class="footer footer-black  footer-white ">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="credits ml-auto">
                                <span class="copyright">
                                    Â© 2021 Powered by <a href="https://esquall.com/" target="_blank">eSquall Technologies</a>
                                </span>
                            </div>
                        </div>
                    </div>
                </footer>
            </div>
        </div>
        <!--   Core JS Files   -->
        <script src="{% static 'assets/js/core/jquery.min.js' %}"></script>
        <script src="{% static 'assets/js/core/popper.min.js' %}"></script>
        <script src="{% static 'assets/js/core/bootstrap.min.js' %}"></script>
        <script src="{% static 'assets/js/plugins/perfect-scrollbar.jquery.min.js' %}"></script>
        <script src="{% static 'assets/js/plugins/moment.min.js' %}"></script>
        <!--  Plugin for Switches, full documentation here: http://www.jque.re/plugins/version3/bootstrap.switch/ -->
        <script src="{% static 'assets/js/plugins/bootstrap-switch.js' %}"></script>
        <!--  Plugin for Sweet Alert -->
        <script src="{% static 'assets/js/plugins/sweetalert2.min.js' %}"></script>
        <!-- Forms Validations Plugin -->
        <script src="{% static 'assets/js/plugins/jquery.validate.min.js' %}"></script>
        <!--  Plugin for the Wizard, full documentation here: https://github.com/VinceG/twitter-bootstrap-wizard -->
        <script src="{% static 'assets/js/plugins/jquery.bootstrap-wizard.js' %}"></script>
        <!--	Plugin for Select, full documentation here: http://silviomoreto.github.io/bootstrap-select -->
        <script src="{% static 'assets/js/plugins/bootstrap-selectpicker.js' %}"></script>
        <!--  Plugin for the DateTimePicker, full documentation here: https://eonasdan.github.io/bootstrap-datetimepicker/ -->
        <script src="{% static 'assets/js/plugins/bootstrap-datetimepicker.js' %}"></script>
        <!--  DataTables.net Plugin, full documentation here: https://datatables.net/    -->
        <script src="{% static 'assets/js/plugins/jquery.dataTables.min.js' %}"></script>
        <!--	Plugin for Tags, full documentation here: https://github.com/bootstrap-tagsinput/bootstrap-tagsinputs  -->
        <script src="{% static 'assets/js/plugins/bootstrap-tagsinput.js' %}"></script>
        <!-- Plugin for Fileupload, full documentation here: http://www.jasny.net/bootstrap/javascript/#fileinput -->
        <script src="{% static 'assets/js/plugins/jasny-bootstrap.min.js' %}"></script>
        <!--  Full Calendar Plugin, full documentation here: https://github.com/fullcalendar/fullcalendar    -->
        <script src="{% static 'assets/js/plugins/fullcalendar/fullcalendar.min.js' %}"></script>
        <script src="{% static 'assets/js/plugins/fullcalendar/daygrid.min.js' %}"></script>
        <script src="{% static 'assets/js/plugins/fullcalendar/timegrid.min.js' %}"></script>
        <script src="{% static 'assets/js/plugins/fullcalendar/interaction.min.js' %}"></script>
        <!--  Plugin for the Bootstrap Table -->
        <script src="{% static 'assets/js/plugins/nouislider.min.js' %}"></script>
        <!-- Control Center for Now Ui Dashboard: parallax effects, scripts for the example pages etc -->
        <script src="{% static 'assets/js/paper-dashboard.min.js' %}" type="text/javascript"></script><!-- Paper Dashboard DEMO methods, don't include it in your project! -->
        <script src="{% static 'assets/demo/demo.js' %}"></script>
        <script>
            $(document).ready(function() {
                demo.checkFullPageBackgroundImage();
            });
        </script>

        <script>
            $('#category').on('change', function(){
                var fd = new FormData();
                fd.append('category', $('#category').val());
                fd.append("csrfmiddlewaretoken", '{{ csrf_token }}');

                $.ajax({
                    type: "POST",
                    contentType: false,
                    processData: false,
                    url: '{% url "getCategoryLength" %}',
                    data: fd,
                    success: function success(data){
                        $('#start').attr('max', data.categoryLength-1)
                        $('#end').attr('max', data.categoryLength)
                    },
                });  
            })

            $('#start').on('change', function(){
                $('#end').attr('min', (parseInt($('#start').val())+1))
            })
        </script>
    </body>

    </html>